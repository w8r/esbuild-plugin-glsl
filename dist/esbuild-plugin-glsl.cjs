/**
 * esbuild-plugin-glsl v1.1.0 build Mon Sep 19 2022
 * https://github.com/vanruesc/esbuild-plugin-glsl
 * Copyright 2022 Raoul van RÃ¼schen
 * @license Zlib
 */
"use strict";var S=Object.create;var m=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var E=(e,r)=>{for(var t in r)m(e,t,{get:r[t],enumerable:!0})},p=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of A(r))!w.call(e,a)&&a!==t&&m(e,a,{get:()=>r[a],enumerable:!(n=b(r,a))||n.enumerable});return e};var u=(e,r,t)=>(t=e!=null?S(v(e)):{},p(r||!e||!e.__esModule?m(t,"default",{value:e,enumerable:!0}):t,e)),R=e=>p(m({},"__esModule",{value:!0}),e);var O={};E(O,{default:()=>F,glsl:()=>F});module.exports=R(O);var h=u(require("fs"),1),y=u(require("util"),1);var c=new Set(["x","y","z","w","r","g","b","a","s","t","xy"]),f=new Set(["attribute","uniform","varying","layout","centroid","flat","smooth","noperspective","patch","sample","subroutine","in","out","inout","invariant","discard","mat2","mat3","mat4","dmat2","dmat3","dmat4","mat2x2","mat2x3","mat2x4","dmat2x2","dmat2x3","dmat2x4","mat3x2","mat3x3","mat3x4","dmat3x2","dmat3x3","dmat3x4","mat4x2","mat4x3","mat4x4","dmat4x2","dmat4x3","dmat4x4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","dvec2","dvec3","dvec4","uvec2","uvec3","uvec4","lowp","mediump","highp","precision","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","samplerCubeShadow","sampler1DArray","sampler2DArray","sampler1DArrayShadow","sampler2DArrayShadow","isampler1D","isampler2D","isampler3D","isamplerCube","isampler1DArray","isampler2DArray","usampler1D","usampler2D","usampler3D","usamplerCube","usampler1DArray","usampler2DArray","sampler2DRect","sampler2DRectShadow","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray","samplerCubeArray","samplerCubeArrayShadow","isamplerCubeArray","usamplerCubeArray","auto","if","break","int","case","long","char","register","continue","return","default","short","do","sizeof","double","static","else","struct","entry","switch","extern","typedef","float","union","for","unsigned","goto","while","enum","void","const","signed","volatile","byte","ushort","ubyte","define","bool","endif","floor","pow","mix","sin","cos","tan","asin","acos","atan","exp","log","sqrt","main","abs","sign","ceil","fract","mod","min","clamp","max","step","smoothstep","length","distance","dot","cross","normalize","faceforward","reflect","refract","texture2D","true","false"]);var C="a".charCodeAt(0),L=0;function d(){let e="",r=++L;do e=String.fromCharCode(C+(r-1)%26)+e,r=(r-1)/26|0;while(r!==0);return g(e)&&(e=d()),e}var g=e=>f.has(e),I=e=>/^((a_|u_|gl_)|([A-Z0-9_]+$))/.test(e),_=e=>{if(e.length>4)return!1;for(let r=0;r<e.length;++r)if(!c.has(e[r]))return!1;return!0},i=new Map,M=e=>{let r=i.get(e);return i.has(e)||(g(e)||I(e)||_(e)?r=e:r=d(),i.set(e,r)),i.get(e)},D=e=>e.replace(/[a-zA-Z_]\w*/g,M);function x(e,r){let t=/[ \t]*(?:(?:\/\*[\s\S]*?\*\/)|(?:\/\/.*\n))/g,n=/\s*([{}=*,+/><&|[\]()\-!?:;])\s*/g,a=e.replace(/\r/g,"").replace(t,""),l=!1;return a=a.split(/\n+/).reduce((o,s)=>(s=s.trim().replace(/\s{2,}|\t/," "),s[0]==="#"?(l&&o.push(`
`),o.push(s,`
`),l=!1):(s=s.replace(/(else)$/m,"$1 "),s=s.replace(n,"$1"),r&&(s=D(s)),o.push(s.replace(n,"$1")),l=!0),o),[]).join(""),a.replace(/\n{2,}/g,`
`)}function F({minify:e=!1,mangle:r=!1}={}){let t=y.promisify(h.readFile);return{name:"glsl",setup(n){async function a(l){let o=await t(l.path,"utf8");return{contents:e?x(o,r):o,loader:"text"}}n.onLoad({filter:/\.(?:frag|vert|glsl|wgsl)$/},a)}}}0&&(module.exports={glsl});
